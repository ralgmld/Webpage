<html>
<head>
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="Card.css">
	<style>
        .modal__container {
            position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
		label img {
            margin-right: 10px; /* 원하는 간격으로 조절 */
            vertical-align: middle; /* 수직 정렬을 위해 */
        }
    </style>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	
	</head>
<body>
	<div id = "menu"></div>
	
    <div class="modal__container" >
      <div class="modal__content">
		
        <form>
		  <div class="card_icon">
			<img src = "../Image/card.png" width=30% class="card-image";>
        <h1 style="font-weight: bold; text-align: center; margin:5; color:black">Check Card</h1>
		  </div>
			
          <ul class="form-list">
            <li class="form-list__row">
              <label>
				  <img src="../Image/name.png" width="30" height="30">Name</label>
              <input id="name" type="text" name="" required="" />
            </li>
            <li class="form-list__row">
              <label>
				  <img src="../Image/card number.png" width="30" height="30">Card Number</label>
              <div class="creditcard-icon">
                <input id="input--cc" type="text" name="cc_number" maxlength="12" required="" />
              </div>
            </li>
            <li class="form-list__row form-list__row--inline">
              <div>
                <label>
					<img src="../Image/expiration date.png" width="30" height="30">Expiration Date</label>
                <div class="form-list__input-inline"  style="display: flex;">
                  <input id="cc_month" type="text" name="cc_month" placeholder="MM"  pattern="[0-9]{2}$" minlength="2" maxlength="2" required="" />
                  &nbsp;&nbsp;<input id="cc_year" type="text" name="cc_year" placeholder="YY"  pattern="[0-9]{2}$" minlength="2" maxlength="2" required="" />
                </div>
              </div>
              <div>
                <label>
					<img src="../Image/cvv.png" width="30" height="30">
                  CVC
                  <a href="#cvv-modal" class="button--transparent modal-open button--info">
                    
        
                  </a>
                </label>
                <input id="cc_cvc" type="password" name="cc_cvc" placeholder="123" pattern="[0-9]{3}$" minlength="3" maxlength="3" required="" />
              </div>
            </li>
            <li class="form-list__row form-list__row--agree">
              <label>
                <input type="checkbox" name="save_cc" checked="checked">
                Save my card for future purchases
              </label>
            </li>
            <li>
              <!-- HTML 요소와 버튼 클릭 이벤트 연결 -->
				<button id="checkButton" type="button" class="button">확인</button>
				<button type="button" onclick="resetData()">초기화</button>

<script>
	$(document).ready(function () {
            // 메뉴 로드
            $.ajax({
                url: "../Main/Menu.html",
                async: false,
                success: function (menuContent) {
                    $("#menu").html(menuContent);
                    document.getElementById("sub_nav").classList.add("show");
                }
            });
        });
	function resetData() { <!--초기화버튼 클릭 시 작동-->
		document.getElementById("name").value = "";
		document.getElementById("input--cc").value = "";
		document.getElementById("cc_month").value = "";
		document.getElementById("cc_year").value = "";
		document.getElementById("cc_cvc").value = "";
                                                                        
	}
  // "Check" 버튼 클릭 시 호출되는 함수
  function popup() {
    var name = document.querySelector('#name');
    var inputcc = document.querySelector('#input--cc');
    var cc_month = document.querySelector('#cc_month');
    var cc_year = document.querySelector('#cc_year');
    var cc_cvc = document.querySelector('#cc_cvc');
    var today = new Date(); // 현재 날짜
    var expirationDate = new Date("20" + cc_year.value, cc_month.value); // 입력된 유효기간
	  
    if (name.value === "test" && inputcc.value === "123456789000" && cc_year.value === (today.getFullYear() % 100).toString() &&
    cc_month.value === (today.getMonth() + 1).toString().padStart(2, '0') &&
    expirationDate > today
  ) {
      alert("정상카드입니다.");
    } 
	else if (expirationDate < today) {
        alert("유효기간이 지난 카드입니다.");
	}
	else {
      alert("비정상카드입니다.");
    }
  }
  // "Check" 버튼에 클릭 이벤트 핸들러 등록
  document.querySelector('#checkButton').addEventListener('click', popup);
</script>

				
            </li>
          </ul>
        </form>
		</div>
    </div> <!-- END: .modal__container -->
		<script src="Card.js"></script>
	
	<footer>
	<p>웹 사이트 제작 : 송명원, 김희연, 장하은</p>
	</footer>	
	</body>
	
</html>
